<%= simple_form_for [@house] do |f| %>
  <h4>Désignation du bien</h4>

  <%= f.input :address, label: 'Adresse du bien'%>
  <%= f.input :house_type, label: "Type du bien", collection: %w(Appartement Maison Garage), as: :radio_buttons %>
  <%= f.input :usage_type, label: "Bien à usage", collection: %w(Domestique Profesionel Mixte), as: :radio_buttons %>

  <h4>Propriétaires</h4>
    <%= f.simple_fields_for :owner do |o| %>
      <%= o.input :last_name, label: 'Nom'%>
      <%= o.input :first_name, label: 'Prénom'%>
      <%= o.input :address, label: 'Adresse'%>
      <%= o.input :email, label: 'email'%>
      <%= o.input :phone_number, label: 'Téléphone'%>
    <% end %>
  <%= f.submit 'save' %>
<% end %>


<script>
  const remove_background = (div) => {
    div.querySelectorAll(".material-icons").forEach((el) => {
      el.parentNode.classList.remove("red-background");
    })
  }

  let element

  document.querySelectorAll(".material-icons").forEach((el) => {
    el.addEventListener("click", (ev) => {
      ev.target.parentNode.parentNode.previousElementSibling.querySelector(".form-control").value = ev.target.innerText;
      remove_background(ev.target.parentNode.parentNode);
      ev.target.parentNode.classList.toggle("red-background");
    })
  })
</script>
